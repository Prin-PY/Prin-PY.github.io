<!DOCTYPE html>


<html lang="en">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 半个出家人</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/img/circle_image.png" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="半个出家人" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/Shen-Yu/hexo-theme-ayer"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="img/header_img/home-bg-1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">半个出家人</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['The world isn&#39;t split into good people and Death Eaters. We&#39;ve all got both light and dark inside us. What matters is the part we choose to act on. That&#39;s who we really are.', '愿你一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 100,
        loop: true,
        backSpeed: 80,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  <ul class="ads">
    
        <li>
            <a href="https://curl.qcloud.com/kvO7hb43" target="_blank" rel="noopener">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5ccc.jpg" width="300" alt="云服务器限时秒杀">
            </a>
        </li>
    
        <li>
            <a href="https://www.vultr.com/?ref=8630075" target="_blank" rel="noopener">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5cd7.png" width="300" alt="vultr优惠vps">
            </a>
        </li>
    
</ul>
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-Unreal-Unreal插件开发"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/25/Unreal-Unreal%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/"
    >Unreal插件开发</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/25/Unreal-Unreal%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/" class="article-date">
  <time datetime="2023-07-25T12:56:23.412Z" itemprop="datePublished">2023-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Unreal/">Unreal</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p>Engine /[UE4 Root]/Engine/Plugins/[Plugin Name]/</p>
<p>Game /[Project Root]/Plugins/[Plugin Name]/<br>(will be detected and loaded at Engine or Editor start-up time)</p>
<p>Public/Classes的父目录名就是module名</p>
<h3 id="Plugin-Descriptor-Files"><a href="#Plugin-Descriptor-Files" class="headerlink" title="Plugin Descriptor Files"></a>Plugin Descriptor Files</h3><p>Plugin descriptor Files: <code>.uplugin</code><br>API: <a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Projects/FPluginDescriptor/" target="_blank" rel="noopener">https://docs.unrealengine.com/4.27/en-US/API/Runtime/Projects/FPluginDescriptor/</a></p>
<p>Category：类目名即在插件浏览器中所属的类目。<br>Installed：默认启用或禁用状态，在插件浏览器中可以控制加载卸载插件模块。<br>Modules：描述模块名、运行类型、加载时机、支持平台等信息。<br>Type：Runtime，RuntimeNoCommandlet，Developer，Editor，EditorNoCommandlet，Program。<br>LoadingPhase：Default，PreDefault，PostConfigInit，PostConfigInit。<br>WhitelistPlatforms：支持的平台<br>BlacklistPlatforms：不支持的平台</p>
<h2 id="操作方法"><a href="#操作方法" class="headerlink" title="操作方法"></a>操作方法</h2><p>unreal的理念是开发工作都是在工程目录进行，包括插件开发</p>
<h3 id="打包发布"><a href="#打包发布" class="headerlink" title="打包发布"></a>打包发布</h3><p><a href="https://blog.csdn.net/jxyb2012/article/details/88839224" target="_blank" rel="noopener">https://blog.csdn.net/jxyb2012/article/details/88839224</a></p>
<p><code>csharp &quot;E:\Program Files\Epic Games\UE_4.25\Engine\Build\BatchFiles\RunUAT.bat&quot; BuildPlugin Plugin=&quot;D:\work\UE4_25\PluginFactory\Plugins\MyNewPlugin\MyNewPlugin.uplugin&quot; Package=&quot;D:\work\UE4_25\PluginPackaged&quot;</code> </p>
<h2 id="插件编译执行过程"><a href="#插件编译执行过程" class="headerlink" title="插件编译执行过程"></a>插件编译执行过程</h2><p>Plugins will automatically be compiled by UBT when compiling your game project.</p>
<p><code>csharp #pragma once #include &quot;CoreMinimal.h&quot; #include &quot;ModuleManager.h&quot; class FPanoCamModule : public IModuleInterface { public: /** IModuleInterface implementation */ virtual void StartupModule() override; virtual void ShutdownModule() override; };</code> </p>
<p>每个独立模块都有一个类继承自 IModuleInterface，重写了插件加载卸载的方法。</p>
<p>.uplugin文件中Modules下的LoadingPhase字段说明了模块加载的时机，当满足这个时机时此模块StartupModule函数将被调用。此插件的功能入口就是从这里开始。当程序关闭或主动调用ShutdownModule函数时，模块将被卸载。</p>
<h2 id="编辑器拓展开发接口"><a href="#编辑器拓展开发接口" class="headerlink" title="编辑器拓展开发接口"></a>编辑器拓展开发接口</h2><p>LevelEditorModule.GetToolBarExtensibilityManager()可以拓展关卡编辑器的工具栏，GetMenuExtensibilityManager()可以拓展菜单栏。<br>GEditor-&gt;GetEditorSubsystem<UAssetEditorSubsystem>()-&gt;OnAssetOpenedInEditor()，可以监听UE中，任意编辑器打开的事件。<br>FCoreUObjectDelegates::OnObjectPropertyChanged可以监听任意Object，任意属性的变化事件。</p>
<h2 id="其他技巧"><a href="#其他技巧" class="headerlink" title="其他技巧"></a>其他技巧</h2><h3 id="Include"><a href="#Include" class="headerlink" title="Include"></a>Include</h3><blockquote>
<p>unreal中所有头文件都可以include。只是ue建议只include public目录或Classes的头文件，不建议include private目录的。</p>
</blockquote>
<h4 id="Include-public"><a href="#Include-public" class="headerlink" title="Include public"></a>Include public</h4><p>在XXX.Build.cs文件中添加依赖Module：PublicDependencyModuleNames.AddRange<br>然后在某个源码文件，直接include。（从Public/Classes开始算路径）</p>
<h4 id="Include-private"><a href="#Include-private" class="headerlink" title="Include private"></a>Include private</h4><p>在当前插件模块的build.cs文件中添加Private目录:</p>
<p><code>csharp var EngineDir = Path.GetFullPath(Target.RelativeEnginePath); PrivateIncludePaths.AddRange( new string[] { Path.Combine(EngineDir, &quot;Source/Editor/AnimationBlueprintEditor/Private/&quot;), });</code> <code>csharp // 用尖括号也可以 #include &quot;AnimationBlueprintEditor.h&quot;</code> </p>
<h3 id="添加第三方依赖库"><a href="#添加第三方依赖库" class="headerlink" title="添加第三方依赖库"></a>添加第三方依赖库</h3><p>PublicIncludePaths.Add(zlibPath + “include” + platform); //把（.h）头文件路径引入。<br>PublicLibraryPaths.Add(zlibPath + “lib” + platform); //把（.lib）库文件路径引入。<br>PublicAdditionalLibraries.Add(“zlibstatic.lib”); //把（.lib）库文件引入。</p>
<p><a href="https://blog.csdn.net/jxyb2012/article/details/88839224" target="_blank" rel="noopener">https://blog.csdn.net/jxyb2012/article/details/88839224</a></p>
<h4 id="链接错误的解决方法"><a href="#链接错误的解决方法" class="headerlink" title="链接错误的解决方法"></a>链接错误的解决方法</h4><ol>
<li>确保：把所属module添加到PublicDependencyModuleNames中</li>
<li>确保：如果缺失的函数or类是某个插件中的，需要标识为API，在函数前加入对应API宏。</li>
</ol>
<blockquote>
<p>例如module名为SamplePlg，则API宏为：SAMPLEPLG_API</p>
</blockquote>
<h3 id="访问private或protected的UPROPERTY"><a href="#访问private或protected的UPROPERTY" class="headerlink" title="访问private或protected的UPROPERTY"></a>访问private或protected的UPROPERTY</h3><p><code>csharp USTRUCT() struct FAnimLinkableElement { GENERATED_USTRUCT_BODY() protected: /** The slot index we are currently using within LinkedMontage */ UPROPERTY(EditAnywhere, Category=AnimLink) int32 SlotIndex; };</code> <code>csharp int32* GetSlotIndex(void *pAnimLinkableElement) { static UScriptStruct* Struct = FindObjectSafe&lt;UScriptStruct&gt;(ANY_PACKAGE, TEXT(&quot;AnimLinkableElement&quot;)); auto Prop = Struct-&gt;FindPropertyByName(TEXT(&quot;SlotIndex&quot;)); check(Prop); return Prop-&gt;ContainerPtrToValuePtr&lt;int32&gt;(pAnimLinkableElement); }</code> </p>
<h2 id="Build-cs"><a href="#Build-cs" class="headerlink" title="Build.cs"></a>Build.cs</h2><p>配置文件属性详细说明：<a href="https://blog.csdn.net/jxyb2012/article/details/88839224" target="_blank" rel="noopener">https://blog.csdn.net/jxyb2012/article/details/88839224</a></p>
<p><code>csharp using UnrealBuildTool; using System.IO; //路径获取需要用到IO public class TestPlugin : ModuleRules ｛ private string ModulePath //当前TestPlugin.Build.cs文件所在的路径 ｛ get ｛ return Path.GetDirectoryName(RulesCompiler.GetModuleFilename(this.GetType().Name)); ｝ ｝ private string ThirdPartyPath //这个插件引用的第三方库的目录 ｛ get ｛ return Path.GetFullPath(Path.Combine(ModulePath, &quot;../../ThirdParty/&quot;)); ｝ ｝ private string MyTestLibPath //第三方库MyTestLib的目录 ｛ get ｛ return Path.GetFullPath(Path.Combine(ThirdPartyPath, &quot;MyTestLib&quot;)); ｝ ｝ public TestPlugin(TargetInfo Target) ｛ PCHUsage = ModuleRules.PCHUsageMode.UseExplicitOrSharedPCHs; PublicIncludePaths.AddRange( //公有文件搜索路径 new string[] ｛ &quot;TestPlugin/Public&quot; // ... add public include paths required here ... ｝ ); PrivateIncludePaths.AddRange( new string[] ｛ &quot;TestPlugin/Private&quot; //私有文件搜索路径 // ... add other private include paths required here ... ｝ ); PublicDependencyModuleNames.AddRange( new string[] ｛ &quot;Core&quot; // ... add other public dependencies that you statically link with here ... ｝ ); PrivateDependencyModuleNames.AddRange( new string[] ｛ &quot;CoreUObject&quot;, &quot;Engine&quot;, &quot;Slate&quot;, &quot;SlateCore&quot;, // ... add private dependencies that you statically link with here ... ｝ ); DynamicallyLoadedModuleNames.AddRange( new string[] ｛ // ... add any modules that your module loads dynamically here ... ｝ ); LoadThirdPartyLib(Target); //加载第三方库 ｝ public bool LoadThirdPartyLib(TargetInfo Target) ｛ bool isLibrarySupported = false; if ((Target.Platform == UnrealTargetPlatform.Win64) || (Target.Platform == UnrealTargetPlatform.Win32))//平台判断 ｛ isLibrarySupported = true; System.Console.WriteLine(&quot;\----- isLibrarySupported true&quot;); string PlatformSubPath = (Target.Platform == UnrealTargetPlatform.Win64) ? &quot;Win64&quot; : &quot;Win32&quot;; string LibrariesPath = Path.Combine(MyTestLibPath, &quot;Lib&quot;); PublicAdditionalLibraries.Add(Path.Combine(LibrariesPath, PlatformSubPath, &quot;TestLib.lib&quot;));//加载第三方静态库.lib ｝ if (isLibrarySupported) //成功加载库的情况下，包含第三方库的头文件 ｛ // Include path System.Console.WriteLine(&quot;\----- PublicIncludePaths.Add true&quot;); PublicIncludePaths.Add(Path.Combine(MyTestLibPath, &quot;Include&quot;)); ｝ return isLibrarySupported; ｝ ｝</code> </p>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><p><a href="https://www.jianshu.com/p/ec0ae889f417" target="_blank" rel="noopener">https://www.jianshu.com/p/ec0ae889f417</a><br><a href="https://www.jianshu.com/p/49684c1b6011" target="_blank" rel="noopener">https://www.jianshu.com/p/49684c1b6011</a><br><a href="https://gameinstitute.qq.com/community/detail/121298" target="_blank" rel="noopener">https://gameinstitute.qq.com/community/detail/121298</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unreal/" rel="tag">Unreal</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Unreal-Unreal操作"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/25/Unreal-Unreal%E6%93%8D%E4%BD%9C/"
    >Unreal操作</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/25/Unreal-Unreal%E6%93%8D%E4%BD%9C/" class="article-date">
  <time datetime="2023-07-25T12:56:23.412Z" itemprop="datePublished">2023-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Unreal/">Unreal</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="入门配置"><a href="#入门配置" class="headerlink" title="入门配置"></a>入门配置</h2><p>VS配置：<a href="https://docs.unrealengine.com/4.27/en-US/ProductionPipelines/DevelopmentSetup/VisualStudioSetup/UnrealVS/" target="_blank" rel="noopener">https://docs.unrealengine.com/4.27/en-US/ProductionPipelines/DevelopmentSetup/VisualStudioSetup/UnrealVS/</a></p>
<h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><h3 id="VS快捷键"><a href="#VS快捷键" class="headerlink" title="VS快捷键"></a>VS快捷键</h3><p>UnrealVS.BuildStartupProject: Ctrl + Shift + Alt + B<br>UnrealVS.CompileSingleFile: Ctrl+F7</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unreal/" rel="tag">Unreal</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Unreal-Unreal-c-常见问题"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/25/Unreal-Unreal-c-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/"
    >Unreal c++常见问题</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/25/Unreal-Unreal-c-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" class="article-date">
  <time datetime="2023-07-25T12:56:23.411Z" itemprop="datePublished">2023-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Unreal/">Unreal</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="类中静态成员变量-amp-amp-无法解析的外部符号：https-blog-csdn-net-u012911202-article-details-103532273"><a href="#类中静态成员变量-amp-amp-无法解析的外部符号：https-blog-csdn-net-u012911202-article-details-103532273" class="headerlink" title="类中静态成员变量 &amp;&amp; 无法解析的外部符号：https://blog.csdn.net/u012911202/article/details/103532273"></a>类中静态成员变量 &amp;&amp; 无法解析的外部符号：<a href="https://blog.csdn.net/u012911202/article/details/103532273" target="_blank" rel="noopener">https://blog.csdn.net/u012911202/article/details/103532273</a></h1><p>Unreal中使用Windows API：</p>
<p>D:\Windows Kits\10\include\10.0.20348.0\um\winnt.h(169): fatal error C1189: #error: “No Target Architecture”</p>
<p><img src="assets/Unreal%20c++常见问题/Image.png" alt=""></p>
<p>winnt.h这个头文件依赖windows.h这个头文件</p>
<p>但是Unreal又不能直接 #include “windows.h”，因为一些API有冲突，Unreal在windows的api上包了一层</p>
<p>Unreal用windows的api要用这种形式</p>
<p><img src="assets/Unreal%20c++常见问题/Image_1.png" alt=""></p>
<p><a href="https://forums.unrealengine.com/t/how-to-include-windows-h/308000" target="_blank" rel="noopener">https://forums.unrealengine.com/t/how-to-include-windows-h/308000</a></p>
<p>其他相关：<a href="https://stackoverflow.com/questions/4845198/fatal-error-no-target-architecture-in-visual-studio" target="_blank" rel="noopener">https://stackoverflow.com/questions/4845198/fatal-error-no-target-architecture-in-visual-studio</a></p>
<h1 id="error-C4668-没有将“-WIN32-WINNT-WIN10-TH2”定义为预处理器宏，用“0”替换“-if-elif”"><a href="#error-C4668-没有将“-WIN32-WINNT-WIN10-TH2”定义为预处理器宏，用“0”替换“-if-elif”" class="headerlink" title="error C4668: 没有将“_WIN32_WINNT_WIN10_TH2”定义为预处理器宏，用“0”替换“#if/#elif”"></a>error C4668: 没有将“_WIN32_WINNT_WIN10_TH2”定义为预处理器宏，用“0”替换“#if/#elif”</h1><p>一般为Windows中的宏和UE4冲突所致，需要用如下头文件包裹冲突的头文件：</p>
<h1 id="include-“Windows-AllowWindowsPlatformTypes-h”"><a href="#include-“Windows-AllowWindowsPlatformTypes-h”" class="headerlink" title="include “Windows/AllowWindowsPlatformTypes.h”"></a>include “Windows/AllowWindowsPlatformTypes.h”</h1><h1 id="include-“Windows-PreWindowsApi-h”"><a href="#include-“Windows-PreWindowsApi-h”" class="headerlink" title="include “Windows/PreWindowsApi.h”"></a>include “Windows/PreWindowsApi.h”</h1><h1 id="include-“冲突的头文件”"><a href="#include-“冲突的头文件”" class="headerlink" title="include “冲突的头文件”"></a>include “冲突的头文件”</h1><h1 id="include-“Windows-PostWindowsApi-h”"><a href="#include-“Windows-PostWindowsApi-h”" class="headerlink" title="include “Windows/PostWindowsApi.h”"></a>include “Windows/PostWindowsApi.h”</h1><h1 id="include-“Windows-HideWindowsPlatformTypes-h”"><a href="#include-“Windows-HideWindowsPlatformTypes-h”" class="headerlink" title="include “Windows/HideWindowsPlatformTypes.h”"></a>include “Windows/HideWindowsPlatformTypes.h”</h1><p>[TODO]Speed Up Shader Compiling</p>
<p><a href="https://www.techarthub.com/seven-tricks-to-speed-up-shader-compilation-in-unreal-engine-4/" target="_blank" rel="noopener">https://www.techarthub.com/seven-tricks-to-speed-up-shader-compilation-in-unreal-engine-4/</a></p>
<p><a href="https://forums.unrealengine.com/t/turn-off-auto-compile-shaders/353474" target="_blank" rel="noopener">https://forums.unrealengine.com/t/turn-off-auto-compile-shaders/353474</a></p>
<p><a href="https://realtimevfx.com/t/ue4-compiling-shaders-is-super-slow/3163/27" target="_blank" rel="noopener">https://realtimevfx.com/t/ue4-compiling-shaders-is-super-slow/3163/27</a></p>
<p><a href="https://medium.com/gamedev4k/reducing-shader-compile-time-for-unreal-engine-landscape-a7a6c7e2ca20" target="_blank" rel="noopener">https://medium.com/gamedev4k/reducing-shader-compile-time-for-unreal-engine-landscape-a7a6c7e2ca20</a></p>
<p>程序里include过，VS中不报错，但是编译报错：无法解析外部符号。</p>
<p>很可能在Build文件里面，没有把 依赖的相关模块 添加进来。</p>
<p><img src="assets/Unreal%20c++常见问题/Image_2.png" alt=""></p>
<p>unable to load module:</p>
<p><a href="https://blog.ch-wind.com/ue4-transition-log/" target="_blank" rel="noopener">https://blog.ch-wind.com/ue4-transition-log/</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unreal/" rel="tag">Unreal</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Unreal-Unreal-Plugin多个模块开发与编译"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/25/Unreal-Unreal-Plugin%E5%A4%9A%E4%B8%AA%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E4%B8%8E%E7%BC%96%E8%AF%91/"
    >Unreal Plugin多个模块开发与编译</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/25/Unreal-Unreal-Plugin%E5%A4%9A%E4%B8%AA%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E4%B8%8E%E7%BC%96%E8%AF%91/" class="article-date">
  <time datetime="2023-07-25T12:56:23.409Z" itemprop="datePublished">2023-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Unreal/">Unreal</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>要写与模块名称相同的Module类，实现StartupModule、ShutdownModule函数，模块才能加载进来。</p>
<p><img src="assets/Unreal%20Plugin多个模块开发与编译/Image.png" alt=""></p>
<p>模块的类型，如果要暴露给其他模块使用，要用 MODULENAME_API 来进行标记</p>
<p><img src="assets/Unreal%20Plugin多个模块开发与编译/Image_1.png" alt=""></p>
<p>模块之间互相引用只要使用 PublicDependencyModuleNames.AddRange 即可。</p>
<p>至于说代码的头文件include，是否要添加PublicIncludePaths，取决于include的时候的方式，因为Paths是提供搜索的目标路径的，为了使搜索头文件的时候能搜索到。如果include命令保证头文件能搜索到就OK，如果搜索不到，就添加Public IncludePaths</p>
<p>Unreal C++代码的的Compile是以Module为单位的，可以在Unreal Editor的UI上，点击Compile，单独对某个模块进行编译。</p>
<p><img src="assets/Unreal%20Plugin多个模块开发与编译/Image_2.png" alt=""></p>
<p>UI按钮的本质也是命令行语句，所以是存在语句用来编译单个模块的，只是现在还没有对RunUAT的命令行使用方法摸清楚，不知道如何编译单个模块。</p>
<p>只要Compile，就会把模块的所有代码都进行编译，至于说Private和Public源码是否保留，看我们如何设定。</p>
<p>Private和Public文件夹对于编译程序来说，并没有什么区别，只是对于开发者来设定的。Public一般是开源的部分。</p>
<p>Unreal中插件通常的使用方式是，把代码编译好成dll、so等后，留下来一部分头文件，开放给用户，用户就可以在自己的工程当中引用这个头文件了。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unreal/" rel="tag">Unreal</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Unreal-Unreal-C-资料整理"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/25/Unreal-Unreal-C-%E8%B5%84%E6%96%99%E6%95%B4%E7%90%86/"
    >Unreal C++资料整理</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/25/Unreal-Unreal-C-%E8%B5%84%E6%96%99%E6%95%B4%E7%90%86/" class="article-date">
  <time datetime="2023-07-25T12:56:23.408Z" itemprop="datePublished">2023-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Unreal/">Unreal</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>文件管理系统（FPlatformFileManager）</p>
<p><a href="https://unrealcommunity.wiki/file-and-folder-management-create-find-delete-et2g64gx" target="_blank" rel="noopener">https://unrealcommunity.wiki/file-and-folder-management-create-find-delete-et2g64gx</a></p>
<p><a href="https://docs.unrealengine.com/4.26/en-US/API/Runtime/Core/GenericPlatform/IPlatformFile/" target="_blank" rel="noopener">https://docs.unrealengine.com/4.26/en-US/API/Runtime/Core/GenericPlatform/IPlatformFile/</a></p>
<p><a href="https://docs.unrealengine.com/4.26/en-US/API/Runtime/Core/HAL/FPlatformFileManager/" target="_blank" rel="noopener">https://docs.unrealengine.com/4.26/en-US/API/Runtime/Core/HAL/FPlatformFileManager/</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unreal/" rel="tag">Unreal</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Unreal-Unreal-蓝图Blueprint"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/25/Unreal-Unreal-%E8%93%9D%E5%9B%BEBlueprint/"
    >Unreal - 蓝图Blueprint</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/25/Unreal-Unreal-%E8%93%9D%E5%9B%BEBlueprint/" class="article-date">
  <time datetime="2023-07-25T12:56:23.406Z" itemprop="datePublished">2023-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Unreal/">Unreal</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="语言概述"><a href="#语言概述" class="headerlink" title="语言概述"></a>语言概述</h2><h3 id="脚本语言"><a href="#脚本语言" class="headerlink" title="脚本语言"></a>脚本语言</h3><p>Python，Lua，Blueprint</p>
<p>特点：无需编译过程，方便调试，开发效率高<br>由虚拟机执行，运行效率不如编译语言快（中间层VM上运行）</p>
<h2 id="Blueprint"><a href="#Blueprint" class="headerlink" title="Blueprint"></a>Blueprint</h2><p>可视化脚本<br>使用引线将节点、事件、函数及变量连接起来。创建出复杂的Gameplay元素。基于事件，以控制游戏内Actor的各种运行行为。</p>
<h3 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h3><h3 id="引脚"><a href="#引脚" class="headerlink" title="引脚"></a>引脚</h3><h4 id="执行引脚"><a href="#执行引脚" class="headerlink" title="执行引脚"></a>执行引脚</h4><p>用于将节点连接起来以创建执行流。</p>
<h4 id="数据引脚"><a href="#数据引脚" class="headerlink" title="数据引脚"></a>数据引脚</h4><h3 id="引线"><a href="#引线" class="headerlink" title="引线"></a>引线</h3><p>引脚之间的连接线。表示执行流或数据流。</p>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><p>难点：Executable Actions函数太多了，不容易记住。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unreal/" rel="tag">Unreal</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Unreal-Unreal-C"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/25/Unreal-Unreal-C/"
    >Unreal C++</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/25/Unreal-Unreal-C/" class="article-date">
  <time datetime="2023-07-25T12:56:23.406Z" itemprop="datePublished">2023-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Unreal/">Unreal</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <ul>
<li>概念 </li>
<li>Compiling <ul>
<li><ul>
<li>我的Q&amp;A </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>Forward Declaration  </p>
<p><img src="assets/Unreal%20C++/Image.png" alt=""></p>
<h2 id="Compiling"><a href="#Compiling" class="headerlink" title="Compiling"></a>Compiling</h2><h3 id=""><a href="#" class="headerlink" title=" "></a> </h3><p><a href="https://docs.unrealengine.com/4.27/en-US/ProductionPipelines/DevelopmentSetup/CompilingProjects/" target="_blank" rel="noopener">https://docs.unrealengine.com/4.27/en-US/ProductionPipelines/DevelopmentSetup/CompilingProjects/</a></p>
<h2 id="我的Q-amp-A"><a href="#我的Q-amp-A" class="headerlink" title="我的Q&amp;A"></a>我的Q&amp;A</h2><h3 id="Class-Naming-Prefix"><a href="#Class-Naming-Prefix" class="headerlink" title="Class Naming Prefix"></a>Class Naming Prefix</h3><p>Actor - A</p>
<p>Object - U<br>Enums - E<br>Interface - I<br>Template - T<br>SWidget - S<br>F - else</p>
<h2 id="关于宏定义"><a href="#关于宏定义" class="headerlink" title="关于宏定义"></a>关于宏定义</h2><h3 id="C-宏定义"><a href="#C-宏定义" class="headerlink" title="C++宏定义"></a>C++宏定义</h3><p>编译过程  </p>
<p><img src="assets/Unreal%20C++/Image_1.png" alt=""></p>
<p><img src="assets/Unreal%20C++/Image_2.png" alt=""></p>
<p><a href="https://blog.csdn.net/yanggangclcsdn/article/details/49704089" target="_blank" rel="noopener">https://blog.csdn.net/yanggangclcsdn/article/details/49704089</a></p>
<p>每个#define行（即逻辑行）由三部分组成：</p>
<p><code>csharp #define 宏名 替换文本</code> </p>
<p>指令 - “#”表示这是一条预处理命令，“define”为宏命令<br>宏（macro） - 一般为缩略语，其名称（宏名）一般大写，而且不能有空格，遵循C变量命令规则<br>替换文本”-任意常数、表达式、字符串等</p>
<p>包括 有参宏 和 无参宏 两种</p>
<h4 id="可变宏"><a href="#可变宏" class="headerlink" title="可变宏"></a>可变宏</h4><p><code>csharp #define PR2(X, ...) printf(&quot;Message&quot;#X&quot;:&quot;__VA_ARGS__) //宏定义 double msg = 10; PR2(1, &quot;msg = %.2f\n&quot;, msg); //宏调用 //输出结果：Message1:msg = 10.00</code> </p>
<h4 id="运算符：-，"><a href="#运算符：-，" class="headerlink" title="运算符：#，"></a>运算符：#，</h4><p><code>csharp #define SUM(a,b) printf(#a &quot; \+ &quot;#b&quot; = %d\n&quot;,((a) + (b))) //宏定义，运用 # 运算符 SUM(1 \+ 2, 3 \+ 4); //宏调用 //输出结果：1 + 2 + 3 + 4 = 10</code> <code>csharp #define NAME(n) num ## n //宏定义，使用 ## 运算符 int num0 = 10; printf(&quot;num0 = %d\n&quot;, NAME(0)); //宏调用</code> </p>
<p>“##” 运算符也可以用在替换文本中，而它的作用是起到粘合的作用，即将两个语言符号组合成一个语言符号，所以又称为“ <strong>预处理器的粘合剂（Preprocessor Glue）</strong> ”。</p>
<h4 id="宏定义-vs-typedef"><a href="#宏定义-vs-typedef" class="headerlink" title="宏定义 vs. typedef"></a>宏定义 vs. typedef</h4><p><code>csharp #define INT1 int * typedef int * INT2; INT1 a1, b1; INT2 a2, b2; b1 = &amp;m; //... main.c:185:8: Incompatible pointer to integer conversion assigning to &#39;int&#39; from &#39;int *&#39;; remove &amp; b2 = &amp;n; // OK</code> </p>
<p>宏定义只是简单的字符串代换，在预处理阶段完成。而typede不是简单的字符串代换，而是可以用来做类型说明符的重命名的，类型的别名可以具有类型定义说明的功能，在编译阶段完成的。</p>
<h4 id="宏定义-vs-函数"><a href="#宏定义-vs-函数" class="headerlink" title="宏定义 vs. 函数"></a>宏定义 vs. 函数</h4><p>所以在宏定义中：#define COUNT(M) M * M 中的形参不分配内存单元，所以不作类型定义。而函数 int count(int x)中形参是局部变量，会在栈区分配内存单元，所以要作类型定义，而且实参与形参之间是“值传递”。而宏只是符号代换，不存在值传递。</p>
<p><code>csharp #define COUNT(M) M * M //定义有参宏 int x = 6; printf(&quot;COUNT = %d\n&quot;, COUNT(x + 1));// 输出结果： COUNT = 13 printf(&quot;COUNT = %d\n&quot;, COUNT(++x)); // 输出结果： COUNT = 56 //warning:... main.c:161:34: Multiple unsequenced modifications to &#39;x&#39;</code> </p>
<p>COUNT(++x) 被替换为 ++x <em> ++x，即为 7 </em> 8 = 56，而不是想要 7 * 7 = 49<br>不要在有参宏用使用到“++”、“–”等</p>
<h4 id="其他技巧与细节"><a href="#其他技巧与细节" class="headerlink" title="其他技巧与细节"></a>其他技巧与细节</h4><p>换行：在结尾加反斜杠，可使多行连接</p>
<p>宏定义必须写在函数之外，其作用域是 #define 开始，到源程序结束。</p>
<p>如果重复定义宏，则不同的编译器采用不同的重定义策略。</p>
<h3 id="Unreal宏定义"><a href="#Unreal宏定义" class="headerlink" title="Unreal宏定义"></a>Unreal宏定义</h3><h4 id="UCALSS"><a href="#UCALSS" class="headerlink" title="UCALSS"></a>UCALSS</h4><p>The UCLASS macro gives the UObject a reference to a UCLASS that describes its Unreal-based type.<br>UE4有一个管理游戏对象的强大系统。UObject是这个系统中所有对象的基类。UCLASS宏用于标记这些UObject的派生类，目的是把它们告知UObject管理系统。UCLASS的宏参数可以更加具体地指定该类型的各种行为。</p>
<p>每个 UCLASS 保留一个称作“类默认对象（Class Default Object）”的对象，简称 CDO。</p>
<p>The UCLASS() macro is used to indicate that a C++ class will be part of Unreal’s <strong>Reflection system</strong>. This is necessary for the C++ class to be recognized by the Unreal Engine editor.<br>Another advantage of using UCLASS() is that you can use <strong>Unreal Engine’s memory management system</strong> in the C++ class.</p>
<blockquote>
<p>UCLASS宏只能修饰UObject的子类。</p>
</blockquote>
<p>类型说明符（Class Specifiers）  </p>
<p><img src="assets/Unreal%20C++/Image_3.png" alt=""></p>
<p>元数据说明符（Metadata Specifiers）  </p>
<p><img src="assets/Unreal%20C++/Image_4.png" alt=""></p>
<h4 id="MYPROJECT-API"><a href="#MYPROJECT-API" class="headerlink" title="MYPROJECT_API"></a>MYPROJECT_API</h4><p>Specifying MYPROJECT_API is necessary if MyProject wishes to expose the UMyObject class to other modules.</p>
<h4 id="Unreal宏编译"><a href="#Unreal宏编译" class="headerlink" title="Unreal宏编译"></a>Unreal宏编译</h4><p>The compilation of an Unreal C++ project happens in two phases.</p>
<ol>
<li>In the first phase, UnrealHeaderTool (UHT) reads the C++ headers files looking for Unreal macros and generates the necessary code that will replace the macros.</li>
<li>In the second phase, the C++ compiler compiles the resulting code.</li>
</ol>
<p><code>csharp #pragma once #include &quot;CoreMinimal.h&quot; #include &quot;GameFramework/Actor.h&quot; #include &quot;TutoProjectCollectable.generated.h&quot; UCLASS() class TUTOPROJECT_API ATutoProjectCollectable : public AActor { GENERATED_BODY()</code> </p>
<p>For this class, UnrealHeaderTool will generate code that will be placed in the TutoProjectCollectable.generated.h file and code that will replace the GENERATED_BODY() macro.</p>
<h4 id="宏定义的方式"><a href="#宏定义的方式" class="headerlink" title="宏定义的方式"></a>宏定义的方式</h4><p>C++代码中定义</p>
<p>Build.cs文件和Target.cs文件中</p>
<p><code>csharp PublicDefinitions.Add(&quot;WITH_DIRECTXMATH=1&quot;);</code> </p>
<p>在UBT代码的文件夹（<code>\Engine\Source\Programs\UnrealBuildTool</code>）中搜索Definitions.Add就可以看到编译时添加的宏定义。</p>
<h4 id="常用宏配置与Unreal-Editor中的效果"><a href="#常用宏配置与Unreal-Editor中的效果" class="headerlink" title="常用宏配置与Unreal Editor中的效果"></a>常用宏配置与Unreal Editor中的效果</h4><p><a href="https://blog.csdn.net/qq_29523119/article/details/85255854" target="_blank" rel="noopener">https://blog.csdn.net/qq_29523119/article/details/85255854</a></p>
<h2 id="Objects-amp-GC"><a href="#Objects-amp-GC" class="headerlink" title="Objects &amp; GC"></a>Objects &amp; GC</h2><p><a href="https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture/Objects/" target="_blank" rel="noopener">https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture/Objects/</a></p>
<p>内存分配与容器：<a href="https://www.cnblogs.com/kekec/p/12012537.html" target="_blank" rel="noopener">https://www.cnblogs.com/kekec/p/12012537.html</a></p>
<h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><h3 id="Destroy"><a href="#Destroy" class="headerlink" title="Destroy"></a>Destroy</h3><h2 id="Memory-Management-amp-GC"><a href="#Memory-Management-amp-GC" class="headerlink" title="Memory Management &amp; GC"></a>Memory Management &amp; GC</h2><p><strong>UE4 uses the reflection system to implement a garbage collection system.</strong></p>
<p>Your classes need to derive from <strong>UObject</strong> in order to be enabled for garbage collection.</p>
<p>An object will <strong>not be garbage collected</strong> as long as <strong>there is a path of references from an object in the root set to the object</strong> in question.</p>
<p>If no such path to the root set exists for an object, it is called <strong>unreachable</strong> and will be <strong>collected (deleted)</strong> the next time the garbage collector runs.</p>
<p>The engine runs the garbage collector at certain <strong>intervals</strong>.</p>
<blockquote>
<p>UStructs cannot be garbage collected.</p>
</blockquote>
<h3 id="Root-Set"><a href="#Root-Set" class="headerlink" title="Root Set"></a>Root Set</h3><p>UObject pointer stored<br>in a UPROPERTY<br>in a UE4 container</p>
<p>Actors:<br>GC druing a level’s shutdown<br>Once spawned, you must manually call Destroy on them to remove them from the Level without ending the Level.</p>
<p>This is important since, as mentioned before, <strong>actors that have had Destroy called on them are not removed until the garbage collector runs again</strong>. You can check the <strong>IsPendingKill</strong> method to see if a UObject is awaiting its deletion.</p>
<p>RootSet操作与判断</p>
<p><code>csharp /** * Add an object to the root set. This prevents the object and all * its descendants from being deleted during garbage collection. */ FORCEINLINE void AddToRoot() { GUObjectArray.IndexToObject(InternalIndex)-&gt;SetRootSet(); } /** Remove an object from the root set. */ FORCEINLINE void RemoveFromRoot() { GUObjectArray.IndexToObject(InternalIndex)-&gt;ClearRootSet(); } /** * Returns true if this object is explicitly rooted * * @return true if the object was explicitly added as part of the root set. */ FORCEINLINE bool IsRooted() const { return GUObjectArray.IndexToObject(InternalIndex)-&gt;IsRootSet(); }</code> </p>
<h3 id="Non-UObject-References"><a href="#Non-UObject-References" class="headerlink" title="Non-UObject References"></a>Non-UObject References</h3><p>Normal C++ objects (not derived from UObject) can also have the ability to add a reference to an object and prevent garbage collection —- derive from <strong>FGCObject</strong> and override its <strong>AddReferencedObjects</strong> method</p>
<h3 id="智能指针"><a href="#智能指针" class="headerlink" title="智能指针"></a>智能指针</h3><h2 id="常用类型"><a href="#常用类型" class="headerlink" title="常用类型"></a>常用类型</h2><h3 id="Numeric-Types"><a href="#Numeric-Types" class="headerlink" title="Numeric Types"></a>Numeric Types</h3><p>int8/uint8: 8-bit signed/unsigned integer</p>
<p>int16/uint16: 16-bit signed/unsigned integer</p>
<p>int32/uint32: 32-bit signed/unsigned integer</p>
<p>int64/uint64: 64-bit signed/unsigned integer</p>
<p>float (32-bit) and double (64-bit) types</p>
<h3 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h3><h4 id="FString"><a href="#FString" class="headerlink" title="FString"></a>FString</h4><p>FString is a mutable string, analogous to std::string.</p>
<p><code>csharp FString MyStr = TEXT(&quot;Hello, Unreal 4!&quot;).</code> </p>
<h4 id="FText"><a href="#FText" class="headerlink" title="FText"></a>FText</h4><p>localized text ???</p>
<p><code>csharp FText MyText = NSLOCTEXT(&quot;Game UI&quot;, &quot;Health Warning Message&quot;, &quot;Low Health!&quot;)</code> <code>csharp // In GameUI.cpp #define LOCTEXT_NAMESPACE &quot;Game UI&quot; //... FText MyText = LOCTEXT(&quot;Health Warning Message&quot;, &quot;Low Health!&quot;) //... #undef LOCTEXT_NAMESPACE // End of file</code> </p>
<h4 id="FName"><a href="#FName" class="headerlink" title="FName"></a>FName</h4><p>Rather than storing the complete string many times across every object that references it, FName uses a smaller storage footprint index that maps to a given string.</p>
<ul>
<li>save memory when that string is used across many objects</li>
<li>save CPU time when comparing them- UE4 can simply check their index values to see if they match</li>
</ul>
<h4 id="TCHAR"><a href="#TCHAR" class="headerlink" title="TCHAR"></a>TCHAR</h4><p>The TCHAR type is used as a way of storing characters independent of the character set being used</p>
<p><a href="https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture/StringHandling/CharacterEncoding/" target="_blank" rel="noopener">https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture/StringHandling/CharacterEncoding/</a></p>
<h3 id="Containers"><a href="#Containers" class="headerlink" title="Containers"></a>Containers</h3><p>相关资料：v</p>
<p><code>csharp void RemoveDeadEnemies(TSet&lt;AEnemy*&gt;&amp; EnemySet){ // Start at the beginning of the set, and iterate to the end of the set for (auto EnemyIterator = EnemySet.CreateIterator(); EnemyIterator; ++EnemyIterator) { // The * operator gets the current element AEnemy* Enemy = *EnemyIterator; if (Enemy.Health == 0) { // &#39;RemoveCurrent&#39; is supported by TSets and TMaps EnemyIterator.RemoveCurrent(); } } }</code> </p>
<h4 id="TArray-std-vector"><a href="#TArray-std-vector" class="headerlink" title="TArray - std::vector"></a>TArray - std::vector</h4><p>like std::vector, offers a lot more functionality</p>
<p><code>csharp TArray&lt;AActor*&gt; ActorArray = GetActorArrayFromSomewhere(); // Tells how many elements (AActors) are currently stored in ActorArray. int32 ArraySize = ActorArray.Num(); // TArrays are 0-based (the first element will be at index 0) int32 Index = 0;// Attempts to retrieve an element at the given indexAActor* FirstActor = ActorArray[Index]; // Adds a new element to the end of the arrayAActor* NewActor = GetNewActor();ActorArray.Add(NewActor); // Adds an element to the end of the array only if it is not already in the arrayActorArray.AddUnique(NewActor); // Won&#39;t change the array because NewActor was already added // Removes all instances of &#39;NewActor&#39; from the arrayActorArray.Remove(NewActor); // Removes the element at the specified index// Elements above the index will be shifted down by one to fill the empty spaceActorArray.RemoveAt(Index); // More efficient version of &#39;RemoveAt&#39;, but does not maintain order of the elementsActorArray.RemoveAtSwap(Index); // Removes all elements in the arrayActorArray.Empty();</code> </p>
<h4 id="TMap-std-map"><a href="#TMap-std-map" class="headerlink" title="TMap - std::map"></a>TMap - std::map</h4><p>has quick methods for finding, adding, and removing elements based on their key</p>
<h4 id="TSet-std-set"><a href="#TSet-std-set" class="headerlink" title="TSet - std::set"></a>TSet - std::set</h4><p>AddUnique, Contains - <strong>faster</strong></p>
<h4 id="Cumtom-TSet-TMap"><a href="#Cumtom-TSet-TMap" class="headerlink" title="Cumtom TSet/TMap"></a>Cumtom TSet/TMap</h4><p>you will need to provide a <strong>hash function</strong> that takes a const pointer or reference to your type and returns a uint32<br>This return value is known as the object’s <strong>hash code</strong> , and should uniquely identify the object.</p>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><p><a href="https://blog.csdn.net/yanggangclcsdn/article/details/49704089" target="_blank" rel="noopener">https://blog.csdn.net/yanggangclcsdn/article/details/49704089</a><br><a href="https://romeroblueprints.blogspot.com/2020/10/the-uclass-macro.html" target="_blank" rel="noopener">https://romeroblueprints.blogspot.com/2020/10/the-uclass-macro.html</a><br><a href="https://www.geek-share.com/detail/2802042559.html" target="_blank" rel="noopener">https://www.geek-share.com/detail/2802042559.html</a><br><a href="https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/ProgrammingWithCPP/IntroductionToCPP/" target="_blank" rel="noopener">https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/ProgrammingWithCPP/IntroductionToCPP/</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unreal/" rel="tag">Unreal</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Unreal-Unity-Unreal"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/25/Unreal-Unity-Unreal/"
    >Unity-Unreal</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/25/Unreal-Unity-Unreal/" class="article-date">
  <time datetime="2023-07-25T12:56:23.404Z" itemprop="datePublished">2023-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Unreal/">Unreal</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Unity-gt-Unreal"><a href="#Unity-gt-Unreal" class="headerlink" title="Unity-&gt;Unreal"></a>Unity-&gt;Unreal</h1><p>可以通过Unity那边的概念、结构、操作方式来理解Unreal。但是又不能完全类比，不能期待一方中的操作方法在另一方里面一定有，如果完全一致的话，两个就变成同一个引擎了。接近本质的点上可以对照去看，比如序列化、反序列化，比如内存管理、资源管理等，是独立于引擎的，都要有的。而上层的、操作习惯上的点就不能一一对照了。</p>
<h2 id="Unity-gt-UE-官方"><a href="#Unity-gt-UE-官方" class="headerlink" title="Unity-&gt;UE 官方"></a>Unity-&gt;UE 官方</h2><h3 id="Glossary"><a href="#Glossary" class="headerlink" title="Glossary"></a>Glossary</h3><p>Unity -&gt; Unreal</p>
<hr>
<p>Prefab -&gt; Blueprint Class<br>Mesh -&gt; Static Mesh<br>Skinned Mesh -&gt; Skeletal Mesh<br>Shader -&gt; Material, Material Editor<br>Material -&gt; Material Instance<br>Material Instance -&gt; ?<br>Sprite -&gt; EditorPaper2D<br>Mecanim -&gt; Persona , Animation Blueprint<br>UI -&gt; UMG (Unreal Motion Graphics)</p>
<p>Raycast -&gt; Line Trace, Shape Trace</p>
<p>Rigid Body -&gt; Collision, Physics</p>
<h3 id="Projects-and-Files"><a href="#Projects-and-Files" class="headerlink" title="Projects and Files"></a>Projects and Files</h3><p>Content - Assets</p>
<p>Map file - Scene, Map files store data about your Level and the objects in it, as well as lighting data and certain level-specific settings.</p>
<p>Edit-&gt;Project Settings-&gt;Platforms-&gt;Android/… - “player settings” in Unity</p>
<p>Source sub-folder -</p>
<h3 id="Actor"><a href="#Actor" class="headerlink" title="Actor"></a>Actor</h3><p>In Unity, GameObject is C# class which you cannot directly extend.<br>In UE4, Actor is a C++ class which you can extend and customize using inheritance.</p>
<ul>
<li><p>任意可以被放置到关卡中的游戏物体都是一个 Actor</p>
</li>
<li><p>Actor 可以被认为维系了一些特殊 Object 的容器，这些特殊 Object 被称为组件（Component）</p>
</li>
<li><p>Actor像是Prefab一样，可以在场景中实例化多个，当Actor进行了修改，那么场景中的物体会同样被修改</p>
</li>
</ul>
<h3 id="Blueprint-vs-Prefab"><a href="#Blueprint-vs-Prefab" class="headerlink" title="Blueprint vs. Prefab"></a>Blueprint vs. Prefab</h3><p>UE4中，Unity的Prefab使用Blueprint Class替代。Blueprint Class支持继承，修改公共的Function很方便。</p>
<p>蓝图-Code挂Asset<br>Prefab-Asset挂code</p>
<h3 id="Component"><a href="#Component" class="headerlink" title="Component"></a>Component</h3><p>BeginPlay = Initialize Component = Unity Start()<br>Tick Component = Unity Update</p>
<h3 id="Blueprint-or-C"><a href="#Blueprint-or-C" class="headerlink" title="Blueprint or C++?"></a>Blueprint or C++?</h3><p>Most projects will use a mix of Blueprints and C++. Many developers prototype game functionality using Blueprints, because it is so easy and fun, and later move some or all of it to C++ for performance and engineering rigor.</p>
<h3 id="Transform-Components"><a href="#Transform-Components" class="headerlink" title="Transform Components"></a>Transform Components</h3><p>Root Component - any subclass of Scene Component</p>
<p>A Scene Component gives the Actor a location, rotation, and scale in the world which is applied hierarchically to all components underneath it.</p>
<h3 id="Actor-1"><a href="#Actor-1" class="headerlink" title="Actor"></a>Actor</h3><p>Actors are most common class used for gameplay in UE4 and the only type that can be Spawned into the World. So everything you place in your level will be an Actor.</p>
<p>Object is actually the base class of all Unreal classes, including Actor and many others.</p>
<h3 id="Gameplay-Framework"><a href="#Gameplay-Framework" class="headerlink" title="Gameplay Framework"></a>Gameplay Framework</h3><p><a href="https://docs.unrealengine.com/4.27/en-US/InteractiveExperiences/Framework/" target="_blank" rel="noopener">https://docs.unrealengine.com/4.27/en-US/InteractiveExperiences/Framework/</a><br>customized built-in Actor classes<br>replication and networking features</p>
<h3 id="Programming"><a href="#Programming" class="headerlink" title="Programming"></a>Programming</h3><h4 id="Event-Functions"><a href="#Event-Functions" class="headerlink" title="Event Functions"></a>Event Functions</h4><p>Remember, in UE4 it is important to call the parent class’ version of method.</p>
<p>A - Actor sub-class<br>U - Object sub-class<br>F - plain data structures or non-UObject classes</p>
<h4 id="Unity功能在Unreal中实现"><a href="#Unity功能在Unreal中实现" class="headerlink" title="Unity功能在Unreal中实现"></a>Unity功能在Unreal中实现</h4><p>文档中查阅：<a href="https://docs.unrealengine.com/4.27/en-US/Basics/UnrealEngineForUnityDevs/" target="_blank" rel="noopener">https://docs.unrealengine.com/4.27/en-US/Basics/UnrealEngineForUnityDevs/</a></p>
<p>Instantiating GameObject / Spawning Actor<br>Casting from One Type to Another</p>
<p>Destroying GameObject / Actor<br>Destroying GameObject / Actor (With 1 Second Delay)<br>Disabling GameObjects / Actors</p>
<p>Accessing the GameObject / Actor from a Component<br>Accessing a Component from the GameObject / Actor<br>Finding GameObjects / Actors<br>Adding tags to GameObjects / Actors<br>Adding tags to MonoBehaviours / ActorComponents<br>Comparing tags on GameObjects / Actors and MonoBehaviours / ActorComponents</p>
<h5 id="Physics-RigidBody-vs-Primitive-Component"><a href="#Physics-RigidBody-vs-Primitive-Component" class="headerlink" title="Physics: RigidBody vs. Primitive Component"></a>Physics: RigidBody vs. Primitive Component</h5><p>Layers vs Channels<br>RayCast vs RayTrace<br>Triggers</p>
<p>Kinematic Rigidbodies</p>
<h5 id="Input-events"><a href="#Input-events" class="headerlink" title="Input events"></a>Input events</h5><p>Engine-Input</p>
<h4 id="Exception"><a href="#Exception" class="headerlink" title="Exception"></a>Exception</h4><p>check() - You can pass in an error message.<br>ensure() - log an error with a full call stack</p>
<h2 id="Unity-gt-UE经验博客"><a href="#Unity-gt-UE经验博客" class="headerlink" title="Unity-&gt;UE经验博客"></a>Unity-&gt;UE经验博客</h2><h3 id="Actor-Lifecycle"><a href="#Actor-Lifecycle" class="headerlink" title="Actor Lifecycle"></a>Actor Lifecycle</h3><p><a href="https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture/Actors/ActorLifecycle/" target="_blank" rel="noopener">https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture/Actors/ActorLifecycle/</a><br>Destroy<br>EndPlay<br>OnDestroy - 不要用这个，要用EndPlay</p>
<h4 id="销毁对象"><a href="#销毁对象" class="headerlink" title="销毁对象"></a>销毁对象</h4><p><code>csharp // 针对AActor子类可调用 MyActor-&gt;Destroy(); // 针对UObject的子类，可调用 MyObj-&gt;MarkPendingKill(); MyObj = nullptr;</code> </p>
<h3 id="Garbage-Collection"><a href="#Garbage-Collection" class="headerlink" title="Garbage Collection"></a>Garbage Collection</h3><h4 id="Advanced-GC"><a href="#Advanced-GC" class="headerlink" title="Advanced GC"></a>Advanced GC</h4><p>Clustering -: builds clusters of objects that are all destroyed together</p>
<p>Cluster Merging - For example, a particle system asset may reference a material asset, but if cluster merging is turned off, the material and the particle system will remain in separate clusters for garbage collection purposes. With cluster merging turned on, the particle asset cluster will be merged with the material cluster due to the particle system referencing the material.</p>
<h3 id="对象查找"><a href="#对象查找" class="headerlink" title="对象查找"></a>对象查找</h3><p><code>csharp // Find Actor by name (also works on UObjects) AActor* MyActor = FindObject&lt;AActor&gt;(nullptr, TEXT(&quot;MyNamedActor&quot;)); // Find Actors by type (needs a UWorld object) for (TActorIterator&lt;AMyActor&gt; It(GetWorld()); It; ++It){ AMyActor* MyActor = *It; // ... } // Find UObjects by type for (TObjectIterator&lt;UMyObject&gt; It; It; ++It){ UMyObject* MyObject = *It; // ... } // Find Actors by tag (also works on ActorComponents, use TObjectIterator instead) for (TActorIterator&lt;AActor&gt; It(GetWorld()); It; ++It){ AActor* Actor = *It; if (Actor-&gt;ActorHasTag(FName(TEXT(&quot;Mytag&quot;)))) { // ... }}</code> </p>
<h3 id="Referencing-Assets"><a href="#Referencing-Assets" class="headerlink" title="Referencing Assets"></a>Referencing Assets</h3><p>Direct Property Reference<br>Construction Time Reference<br>Indirect Property Reference</p>
<h3 id="Actor与蓝图的加载、生成"><a href="#Actor与蓝图的加载、生成" class="headerlink" title="Actor与蓝图的加载、生成"></a>Actor与蓝图的加载、生成</h3><p><code>csharp void ATestBPProjectile::OnHit(UPrimitiveComponent* HitComp, AActor* OtherActor, UPrimitiveComponent* OtherComp, FVector NormalImpulse, const FHitResult&amp; Hit){ …… DEFINE_LOG_CATEGORY_STATIC(LogBPDynamicLoad, Warning, All); // 方法1：通过蓝图对象的GeneratedClass取得类型描述 UBlueprint* BlueprintObj = LoadObject&lt;UBlueprint&gt;(nullptr, TEXT(&quot;Blueprint&#39;/Engine/Tutorial/SubEditors/TutorialAssets/Character/TutorialCharacter.TutorialCharacter&#39;&quot;)); UE_LOG(LogBPDynamicLoad, Warning, TEXT(&quot;Blueprint GeneratedClass:%s&quot;), *BlueprintObj-&gt;GeneratedClass-&gt;GetName()); GetWorld()-&gt;SpawnActor(BlueprintObj-&gt;GeneratedClass, &amp;GetTransform()); // 方法2：加载蓝图对象的UClass，注意资源路径后要加_C，不然加载出来为null UClass* BlueprintClass = LoadClass&lt;AActor&gt;(nullptr, TEXT(&quot;Blueprint&#39;/Engine/Tutorial/SubEditors/TutorialAssets/Character/TutorialCharacter.TutorialCharacter_C&#39;&quot;)); UE_LOG(LogBPDynamicLoad, Warning, TEXT(&quot;Blueprint Class:%s&quot;), *BlueprintClass-&gt;GetName()); GetWorld()-&gt;SpawnActor(BlueprintClass, &amp;GetTransform());}</code> </p>
<h3 id="资源路径"><a href="#资源路径" class="headerlink" title="资源路径"></a>资源路径</h3><p><img src="Unity-Unreal/Image.png" alt=""></p>
<p>目前UE4采用每个资源一个包，以前UE3和UE2时代，一个包中可以有多个资源对象，因此现在包名和资源名都是一样的，除非有手动重命名过。</p>
<p><code>csharp Material&#39;/Game/Geometry/Meshes/CubeMaterial.CubeMaterial&#39; World&#39;/Game/FirstPersonCPP/Maps/FirstPersonExampleMap.FirstPersonExampleMap&#39; Blueprint&#39;/Game/FirstPersonCPP/Blueprints/FirstPersonCharacter.FirstPersonCharacter&#39; Texture2D&#39;/Game/FirstPerson/Textures/FirstPersonCrosshair.FirstPersonCrosshair&#39; SoundWave&#39;/Game/FirstPerson/Audio/FirstPersonTemplateWeaponFire02.FirstPersonTemplateWeaponFire02&#39; AnimBlueprint&#39;/Game/FirstPerson/Animations/FirstPerson_AnimBP.FirstPerson_AnimBP&#39; AnimSequence&#39;/Game/FirstPerson/Animations/FirstPerson_Fire.FirstPerson_Fire&#39; AnimMontage&#39;/Game/FirstPerson/Animations/FirstPersonFire_Montage.FirstPersonFire_Montage&#39; StaticMesh&#39;/Engine/BasicShapes/Cone.Cone&#39; Material&#39;/Engine/BufferVisualization/AmbientOcclusion.AmbientOcclusion&#39; Blueprint&#39;/Engine/EditorBlueprintResources/ActorMacros.ActorMacros&#39; SoundCue&#39;/Engine/EditorSounds/GamePreview/EjectFromPlayer_Cue.EjectFromPlayer_Cue&#39; Texture2D&#39;/Engine/EngineMaterials/Grid.Grid&#39;</code> </p>
<h2 id="Unreal-vs-Unity"><a href="#Unreal-vs-Unity" class="headerlink" title="Unreal vs. Unity"></a>Unreal vs. Unity</h2><h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><p><a href="https://zhuanlan.zhihu.com/p/444044071" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/444044071</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unreal/" rel="tag">Unreal</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Unreal-UI方案"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/25/Unreal-UI%E6%96%B9%E6%A1%88/"
    >UI方案</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/25/Unreal-UI%E6%96%B9%E6%A1%88/" class="article-date">
  <time datetime="2023-07-25T12:56:23.403Z" itemprop="datePublished">2023-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Unreal/">Unreal</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="技术方案说明"><a href="#技术方案说明" class="headerlink" title="技术方案说明"></a>技术方案说明</h2><h3 id="Why-Should-we-Use-C"><a href="#Why-Should-we-Use-C" class="headerlink" title="Why Should we Use C++?"></a>Why Should we Use C++?</h3><p><img src="UI方案/Image.png" alt=""></p>
<p><a href="https://benui.ca/unreal/ui-cpp-basics/" target="_blank" rel="noopener">https://benui.ca/unreal/ui-cpp-basics/</a></p>
<h3 id="mix-Blueprints-and-C"><a href="#mix-Blueprints-and-C" class="headerlink" title="mix Blueprints and C++"></a>mix Blueprints and C++</h3><p>put all <strong>the data-related logic in C++</strong> , and <strong>the visual logic in Blueprints</strong>.</p>
<h3 id="UMG-vs-Slate"><a href="#UMG-vs-Slate" class="headerlink" title="UMG vs. Slate"></a>UMG vs. Slate</h3><p>Slate is the old Unreal UI system, and is what the UMG and the editor are built on. It uses some funky-looking C++ to simplify setting up widgets. It’s important to understand that just because it’s the “old” system doesn’t mean it’s obsolete. You will gradually need to learn Slate in order to add more complicated functionality to your UIs.</p>
<p>UMG is the newer UI system that was added as part of Unreal 4. It is designed to be more Blueprint-friendly and let designers visually lay out their UIs in the editor. Each UMG widget generally has an almost-identically named Slate class inside it. The <strong>xxSlate</strong> class handles most of the logic, and its corresponding UMG class is a wrapper around it. e.g. UImage is the UMG class, and it contains a SImage instance inside it.</p>
<p>UMG is simply a editor- and Blueprint-friendly <strong>wrapper for Slate</strong>.</p>
<h4 id="同行经验"><a href="#同行经验" class="headerlink" title="同行经验"></a>同行经验</h4><p>UE引擎内如果开发Editor插件的话，界面UI是用UMG还是Slate比较合适?<br>Slate.<br>UMG是针对runtime的，因此一些editor的控件不会提供，比如propertyEditor<br>当然slate也会更底层一些，性能更高<br>一般是尽量做个slate底层，然后导出各种蓝图接口，然后就可以用脚本植入主体逻辑</p>
<h2 id="UMG"><a href="#UMG" class="headerlink" title="UMG"></a>UMG</h2><p>Unreal Motion Graphics UI Designer (UMG)</p>
<p>最好的UI Dev上手方法： <strong>try out each widget and see what you can do with it</strong></p>
<p>Slots - When a widget is put inside another, we can customise how it behaves inside its parent through its Slot property.</p>
<h3 id="Widgets"><a href="#Widgets" class="headerlink" title="Widgets"></a>Widgets</h3><p><img src="UI方案/Image_1.png" alt=""></p>
<h3 id="UserWidgets"><a href="#UserWidgets" class="headerlink" title="UserWidgets"></a>UserWidgets</h3><p>UserWidgets are used to create reusable objects with custom logic for user interfaces.</p>
<h4 id="Creating-a-UserWidget-in-C"><a href="#Creating-a-UserWidget-in-C" class="headerlink" title="Creating a UserWidget in C++"></a>Creating a UserWidget in C++</h4><p><code>csharp #pragma once #include &quot;CoreMinimal.h&quot; #include &quot;Blueprint/UserWidget.h&quot; #include &quot;ExampleWidget.generated.h&quot; // We make the class abstract, as we don&#39;t want to create // instances of this, instead we want to create instances // of our UMG Blueprint subclass.UCLASS(Abstract) class UExampleWidget : public UUserWidget{ GENERATED_BODY() protected: // Doing setup in the C++ constructor is not as // useful as using NativeConstruct. virtual void NativeConstruct() override;};</code> <code>csharp #include &quot;ExampleWidget.h&quot; void UExampleWidget::NativeConstruct(){ Super::NativeConstruct(); // Here is where I typically bind delegates, // and set up default appearance }</code> </p>
<h4 id="Creating-new-UWidgets-in-C"><a href="#Creating-new-UWidgets-in-C" class="headerlink" title="Creating new UWidgets in C++"></a>Creating new UWidgets in C++</h4><p><code>csharp // .h file UCLASS() class UExampleOverlay : public UOverlay { GENERATED_UCLASS_BODY() public: #if WITH_EDITOR virtual const FText GetPaletteCategory() override;#endif protected: // UWidget interface virtual TSharedRef&lt;SWidget&gt; RebuildWidget() override; // End of UWidget interface };</code> <code>csharp // .cpp file #define LOCTEXT_NAMESPACE &quot;ExampleUMG&quot; TSharedRef&lt;SWidget&gt; UExampleOverlay::RebuildWidget() { auto Result = Super::RebuildWidget(); for (UPanelSlot* InSlot : Slots) { // Do something custom } return Result; } #if WITH_EDITOR const FText UExampleOverlay::GetPaletteCategory() { return LOCTEXT(&quot;ExampleUI&quot;, &quot;ExampleOverlay&quot;); } #endif</code> </p>
<h2 id="Slate"><a href="#Slate" class="headerlink" title="Slate"></a>Slate</h2><h2 id="Refs"><a href="#Refs" class="headerlink" title="Refs"></a>Refs</h2><p><a href="https://benui.ca/unreal/ui-cpp-basics/" target="_blank" rel="noopener">https://benui.ca/unreal/ui-cpp-basics/</a><br><a href="https://benui.ca/unreal/ui-introduction/" target="_blank" rel="noopener">https://benui.ca/unreal/ui-introduction/</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unreal/" rel="tag">Unreal</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Unreal-UE-移动设备调试"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/25/Unreal-UE-%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E8%B0%83%E8%AF%95/"
    >UE 移动设备调试</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/25/Unreal-UE-%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E8%B0%83%E8%AF%95/" class="article-date">
  <time datetime="2023-07-25T12:56:23.401Z" itemprop="datePublished">2023-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Unreal/">Unreal</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><a href="https://www.youtube.com/watch?v=hEtu-ciPc7g" target="_blank" rel="noopener">https://www.youtube.com/watch?v=hEtu-ciPc7g</a></p>
<p>adb logcat</p>
<p>Android Studio 是发现最优的源码级别调试方式</p>
<p><img src="assets/UE%20移动设备调试/Image.png" alt=""></p>
<p>常用调试方法：</p>
<h1 id="define-PRINT-String-if-GEngine-GEngine-gt-AddOnScreenDebugMessage-1-10-0f-FColor-Red-String"><a href="#define-PRINT-String-if-GEngine-GEngine-gt-AddOnScreenDebugMessage-1-10-0f-FColor-Red-String" class="headerlink" title="define PRINT(String) {if (GEngine){GEngine-&gt;AddOnScreenDebugMessage(-1,10.0f,FColor::Red,*(String));}}"></a>define PRINT(String) {if (GEngine){GEngine-&gt;AddOnScreenDebugMessage(-1,10.0f,FColor::Red,*(String));}}</h1><p>GEngine-&gt;AddOnScreenDebugMessage(-1, 5.0f, FColor::Red,</p>
<p>TEXT(“Log by GEngine.AddOnScreenDebugMessage”));</p>
<p>GEngine-&gt;AddOnScreenDebugMessage(-1, 10.0f, FColor::Red, FString::Printf(TEXT(“Server not connected yet.”)));</p>
<p><a href="https://blog.csdn.net/m0_51819222/article/details/122511585" target="_blank" rel="noopener">https://blog.csdn.net/m0_51819222/article/details/122511585</a></p>
<p><a href="https://blog.csdn.net/Jason6620/article/details/128404026" target="_blank" rel="noopener">https://blog.csdn.net/Jason6620/article/details/128404026</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unreal/" rel="tag">Unreal</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/">上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/archives/3/">3</a><a class="page-number" href="/archives/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/archives/13/">13</a><a class="extend next" rel="next" href="/archives/3/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2023
        <i class="ri-heart-fill heart_icon"></i> Prin
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/img/circle_image.png" alt="半个出家人"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/Unreal">虚幻引擎</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML"></script>

</body>

</html>